---
// components/GallerySection.astro

import { Image } from 'astro:assets';
import Heading from '../typograph/Heading.astro';
import Button from '../../components/buttons/mainButton.astro';

interface GalleryItem {
  image: string;
  alt: string;
  title: string;
  category: string;
}

// Props tipadas
const {
  headingTitle,
  headingAccent,
  description,
  items,
} = Astro.props as {
  headingTitle: string;
  headingAccent: string;
  description: string;
  items: GalleryItem[];
};

// Limita em at√© 8 imagens
const displayItems = items.slice(0, 8);
---

<section class="lg:px-20 px-8 bg-light-bg pt-16 pb-8" id="gallery">
  <div class="shape shape-2"></div>
  <div class="">
    <div class="gallery-header text-center mb-12">
      <Heading text={headingTitle} accent={headingAccent} />
      <p class="section-subtitle section-subtitle-center mt-4">
        {description}
      </p>
    </div>

    <div class="gallery-container reveal-effect relative">
      <div class="gallery-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {displayItems.map((item) => (
          <div class="gallery-item relative overflow-hidden">
            <Image
              src={item.image}
              alt={item.alt}
              class="gallery-image w-full h-auto block"
              width={800}
              height={600}
            />
            <div class="gallery-overlay absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity">
              <div class="gallery-caption flex flex-col justify-center items-center h-full text-white p-4">
                <h4 class="gallery-title text-lg font-semibold mb-1">{item.title}</h4>
                <p class="gallery-category text-sm">{item.category}</p>
              </div>
            </div>
          </div>
        ))}
      </div>

      <div class="gallery-nav flex justify-between mt-6">
         <Button title="Ver Galeria" href="/" />
      </div>
    </div>
  </div>
</section>
